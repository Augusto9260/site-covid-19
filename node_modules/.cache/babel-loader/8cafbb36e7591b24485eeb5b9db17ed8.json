{"ast":null,"code":"import _regeneratorRuntime from\"/home/linux/testes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/linux/testes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/linux/testes/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import apicidades from'../../services/apicidades';import'./style.css';export default function Detail(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),City=_useState2[0],setCity=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),page=_useState6[0],setPage=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){function load(){return _load.apply(this,arguments);}function _load(){_load=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return apicidades.get(\"?format=json&is_last=True&city=\".concat(search,\"&page=\").concat(page));case 2:response=_context.sent;setCity(response.data.results);setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return _load.apply(this,arguments);}load();},[search,page]);function next(action){setPage(action==='next'?page+1:page-1);}if(loading){return/*#__PURE__*/React.createElement(\"div\",{className:\"loading\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Plase wait loading...\"),/*#__PURE__*/React.createElement(\"img\",{src:\"https://image.flaticon.com/icons/svg/2718/2718069.svg\",alt:\"loading\"}));}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"box-city\"},/*#__PURE__*/React.createElement(\"div\",{className:\"box-search\"},/*#__PURE__*/React.createElement(\"label\",null,\"Cidade\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Ex: S\\xE3o Paulo\",onChange:function onChange(event){return setSearch(event.target.value);}})),City.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:Math.random()},/*#__PURE__*/React.createElement(\"strong\",null,\"Cidade: \",item.city,\" \"),/*#__PURE__*/React.createElement(\"strong\",null,\"Confirmados: \",item.confirmed,\" \"),/*#__PURE__*/React.createElement(\"strong\",null,\"Data: \",item.date,\" \"),/*#__PURE__*/React.createElement(\"strong\",null,\"\\xCDndice de mortalidade: \",item.death_rate,\" \"),/*#__PURE__*/React.createElement(\"strong\",null,\"Mortes: \",item.deaths,\" \"),/*#__PURE__*/React.createElement(\"strong\",null,\"Estado: \",item.state,\" \"));}),/*#__PURE__*/React.createElement(\"div\",{className:\"box-button\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return next('back');}},\"back\"),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return next('next');}},\"Next\"))));}","map":{"version":3,"sources":["/home/linux/testes/src/components/detail/detail.js"],"names":["React","useEffect","useState","apicidades","Detail","City","setCity","search","setSearch","page","setPage","loading","setLoading","load","get","response","data","results","next","action","event","target","value","map","item","Math","random","city","confirmed","date","death_rate","deaths","state"],"mappings":"wZAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAO,aAAP,CAEA,cAAe,SAASC,CAAAA,MAAT,EAAkB,eACLF,QAAQ,CAAC,EAAD,CADH,wCACtBG,IADsB,eAChBC,OADgB,8BAEDJ,QAAQ,CAAC,EAAD,CAFP,yCAEtBK,MAFsB,eAEdC,SAFc,8BAGLN,QAAQ,CAAC,CAAD,CAHH,yCAGtBO,IAHsB,eAGhBC,OAHgB,8BAICR,QAAQ,CAAC,IAAD,CAJT,yCAItBS,OAJsB,eAIbC,UAJa,eAM7BX,SAAS,CAAC,UAAM,SACGY,CAAAA,IADH,sHACZ,sKAC2BV,CAAAA,UAAU,CAACW,GAAX,0CAAiDP,MAAjD,kBAAgEE,IAAhE,EAD3B,QACUM,QADV,eAEIT,OAAO,CAACS,QAAQ,CAACC,IAAT,CAAcC,OAAf,CAAP,CAEAL,UAAU,CAAC,KAAD,CAAV,CAJJ,sDADY,uCAOZC,IAAI,GACP,CARQ,CAQN,CAACN,MAAD,CAASE,IAAT,CARM,CAAT,CASA,QAASS,CAAAA,IAAT,CAAcC,MAAd,CAAqB,CACjBT,OAAO,CAACS,MAAM,GAAK,MAAX,CAAoBV,IAAI,CAAG,CAA3B,CAA+BA,IAAI,CAAG,CAAvC,CAAP,CACH,CACD,GAAGE,OAAH,CAAW,CACP,mBACI,2BAAK,SAAS,CAAC,SAAf,eACI,sDADJ,cAEI,2BAAK,GAAG,CAAC,uDAAT,CAAiE,GAAG,CAAC,SAArE,EAFJ,CADJ,CAMH,CACD,mBACI,4CACI,2BAAK,SAAS,CAAC,UAAf,eACI,2BAAK,SAAS,CAAC,YAAf,eACI,0CADJ,cAEI,6BAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,kBAA/B,CAA+C,QAAQ,CAAE,kBAACS,KAAD,QAAWZ,CAAAA,SAAS,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAApB,EAAzD,EAFJ,CADJ,CAKKjB,IAAI,CAACkB,GAAL,CAAS,SAAAC,IAAI,qBACV,0BAAI,GAAG,CAAEC,IAAI,CAACC,MAAL,EAAT,eACI,6CAAiBF,IAAI,CAACG,IAAtB,KADJ,cAEI,kDAAsBH,IAAI,CAACI,SAA3B,KAFJ,cAGI,2CAAeJ,IAAI,CAACK,IAApB,KAHJ,cAII,+DAAgCL,IAAI,CAACM,UAArC,KAJJ,cAKI,6CAAiBN,IAAI,CAACO,MAAtB,KALJ,cAMI,6CAAiBP,IAAI,CAACQ,KAAtB,KANJ,CADU,EAAb,CALL,cAeI,2BAAK,SAAS,CAAC,YAAf,eACI,8BAAQ,OAAO,CAAE,yBAAMd,CAAAA,IAAI,CAAC,MAAD,CAAV,EAAjB,SADJ,cAEI,8BAAQ,OAAO,CAAE,yBAAMA,CAAAA,IAAI,CAAC,MAAD,CAAV,EAAjB,SAFJ,CAfJ,CADJ,CADJ,CAwBH","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport apicidades from '../../services/apicidades';\nimport './style.css';\n\nexport default function Detail() {\n    const [City, setCity] = useState([]);\n    const [search, setSearch] = useState('');\n    const [page, setPage] = useState(1);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        async function load(){\n            const response = await apicidades.get(`?format=json&is_last=True&city=${search}&page=${page}`);\n            setCity(response.data.results);\n\n            setLoading(false);\n        }\n        load();\n    }, [search, page]);\n    function next(action){\n        setPage(action === 'next' ? page + 1 : page - 1);\n    }\n    if(loading){\n        return(\n            <div className='loading'>\n                <h1>Plase wait loading...</h1>\n                <img src='https://image.flaticon.com/icons/svg/2718/2718069.svg' alt='loading' />\n            </div>\n        )\n    }\n    return(\n        <div>\n            <div className='box-city'>\n                <div className='box-search'>\n                    <label>Cidade</label>\n                    <input type='text' placeholder='Ex: São Paulo' onChange={(event) => setSearch(event.target.value)} />\n                </div>\n                {City.map(item => (\n                    <li key={Math.random()} >\n                        <strong>Cidade: {item.city} </strong>\n                        <strong>Confirmados: {item.confirmed} </strong>\n                        <strong>Data: {item.date} </strong>\n                        <strong>Índice de mortalidade: {item.death_rate} </strong>\n                        <strong>Mortes: {item.deaths} </strong>\n                        <strong>Estado: {item.state} </strong>\n                    </li>\n                ))}\n                <div className='box-button'>\n                    <button onClick={() => next('back')} >back</button>\n                    <button onClick={() => next('next')} >Next</button>\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}